(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3599:function(e,t,n){Promise.resolve().then(n.bind(n,3083)),Promise.resolve().then(n.bind(n,2485))},3083:function(e,t,n){"use strict";n.d(t,{SimCanvas:function(){return r}});var i=n(154),s=n(1395),a=n(4386);function r(){let e=(0,s.useRef)(null),t={position:{x:150,y:150},velocity:{x:60,y:40},radius:20},n=(0,s.useRef)({...t}),r={center:{x:150,y:150},radius:140},{gravity:l,speed:c,trail:o,guides:u,paused:d,resetCount:x}=(0,a.f)();return(0,s.useEffect)(()=>{var i;n.current={...t};let s=null===(i=e.current)||void 0===i?void 0:i.getContext("2d");s&&s.clearRect(0,0,s.canvas.width,s.canvas.height)},[x]),!function(e){let t=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{let n;let i=s=>{void 0===t.current&&(t.current=s);let a=(s-t.current)/1e3;t.current=s,e(a),n=requestAnimationFrame(i)};return n=requestAnimationFrame(i),()=>cancelAnimationFrame(n)},[e])}((0,s.useCallback)(t=>{var i,s;if(d)return;t*=c;let a=n.current;a.velocity.y+=l*t,s=t,a.position.x+=a.velocity.x*s,a.position.y+=a.velocity.y*s,function(e,t){let n=e.position.x-t.center.x,i=e.position.y-t.center.y,s=Math.hypot(n,i);if(s+e.radius<=t.radius)return;let a=n/s,r=i/s,l=e.velocity.x*a+e.velocity.y*r;e.velocity.x-=2*l*a,e.velocity.y-=2*l*r;let c=t.radius-e.radius;e.position.x=t.center.x+a*c,e.position.y=t.center.y+r*c}(a,r);let x=null===(i=e.current)||void 0===i?void 0:i.getContext("2d");x&&(o||x.clearRect(0,0,x.canvas.width,x.canvas.height),function(e,t){let{position:n,radius:i}=t;e.fillStyle="white",e.beginPath(),e.arc(n.x,n.y,i,0,2*Math.PI),e.fill()}(x,a),u&&(x.save(),o&&(x.globalCompositeOperation="destination-over"),x.strokeStyle="rgba(255,255,255,0.2)",x.lineWidth=2,x.beginPath(),x.arc(r.center.x,r.center.y,r.radius,0,2*Math.PI),x.stroke(),x.restore()))},[l,c,o,u,d])),(0,i.jsx)("canvas",{ref:e,width:300,height:300,className:"bg-black"})}},2485:function(e,t,n){"use strict";n.d(t,{SimControls:function(){return c}});var i=n(154),s=n(6733),a=n(5523),r=n(9441),l=n(4386);function c(){let{mode:e,setMode:t,gravity:n,setGravity:c,speed:o,setSpeed:u,trail:d,toggleTrail:x,guides:p,toggleGuides:h,paused:g,togglePause:v,reset:f}=(0,l.f)();return(0,i.jsxs)(s.E.div,{className:"glass p-4 rounded-md flex flex-col gap-2 text-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[(0,i.jsxs)("label",{className:"flex items-center gap-2",children:["Mode",(0,i.jsxs)("select",{value:e,onChange:e=>t(e.target.value),className:"bg-neutral-800 rounded",children:[(0,i.jsx)("option",{value:"bounce",children:"Bounce"}),(0,i.jsx)("option",{value:"gravity",children:"Gravity"})]})]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:["Gravity",(0,i.jsx)("input",{type:"range",min:"0",max:"500",step:"10",value:n,onChange:e=>c(Number(e.target.value))}),(0,i.jsx)("span",{children:n.toFixed(0)})]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:["Speed",(0,i.jsx)("input",{type:"range",min:"0.1",max:"5",step:"0.1",value:o,onChange:e=>u(Number(e.target.value))}),(0,i.jsx)("span",{children:o.toFixed(1)})]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:d,onChange:x})," Trail"]}),(0,i.jsxs)("label",{className:"flex items-center gap-2",children:[(0,i.jsx)("input",{type:"checkbox",checked:p,onChange:h})," Guides"]}),(0,i.jsxs)("div",{className:"mt-2 flex gap-2",children:[(0,i.jsxs)("button",{onClick:v,className:"flex items-center gap-1 rounded bg-neutral-800 px-2 py-1",children:[g?(0,i.jsx)(a.Z,{size:16}):(0,i.jsx)(r.Z,{size:16}),g?"Resume":"Pause"]}),(0,i.jsx)("button",{onClick:f,className:"flex items-center gap-1 rounded bg-neutral-800 px-2 py-1",children:"Reset"})]})]})}},4386:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});let i=(0,n(4073).U)(e=>({mode:"bounce",gravity:0,speed:1,trail:!1,guides:!0,paused:!1,resetCount:0,setMode:t=>e({mode:t}),setGravity:t=>e({gravity:t}),setSpeed:t=>e({speed:t}),toggleTrail:()=>e(e=>({trail:!e.trail})),toggleGuides:()=>e(e=>({guides:!e.guides})),togglePause:()=>e(e=>({paused:!e.paused})),reset:()=>e(e=>({resetCount:e.resetCount+1,paused:!1}))}))}},function(e){e.O(0,[101,145,410,744],function(){return e(e.s=3599)}),_N_E=e.O()}]);